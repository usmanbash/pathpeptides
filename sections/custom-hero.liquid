<style>
  .swiper-button-next,
  .swiper-button-prev {
    color: #000;
    background-color: rgba(255, 255, 255, 0.7);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .swiper-button-next::after,
  .swiper-button-prev::after {
    font-size: 20px;
    font-weight: bold;
  }
</style>

<!-- Hero -->
<div class="swiper swiperSliderHero overflow-hidden container mb-16 relative w-full max-w-[1400px] min-h-[500px] h-[706px] px-4 sm:px-0">
  <div class="swiper-wrapper">
    {% for block in section.blocks %}
      {%- liquid
        assign mobile_image = block.settings.mobile_image
        assign desktop_image = block.settings.desktop_image

        assign final_mobile_image = mobile_image | default: desktop_image
        assign final_desktop_image = desktop_image | default: mobile_image
      -%}

      {% if final_mobile_image != blank %}
        {%- style -%}
          .slide--{{ block.id }} {
            background-image: url('{{ final_mobile_image | image_url: width: master }}');
          }

          @media screen and (min-width: 768px) {
            .slide--{{ block.id }} {
              background-image: url('{{ final_desktop_image | image_url: width: master }}');
            }
          }
        {%- endstyle -%}
      {% endif %}

      <div class="swiper-slide slide--{{ block.id }} rounded-3xl overflow-hidden relative bg-cover bg-center">
        <div class="relative z-10 h-full px-6 md:px-12 lg:px-16 flex flex-col lg:flex-row gap-8 lg:gap-0 items-center justify-end xs:justify-end sm:justify-end lg:justify-start pb-15 sm:pb-8">
          <!-- Left Content -->
          <div class="flex flex-col gap-10 md:gap-10 lg:gap-10 items-start relative w-full lg:w-[530px] max-w-[1280px] text-center lg:text-left">
            <div class="flex flex-col gap-4 sm:gap-6 items-center lg:items-start self-stretch relative w-full bg-transparent">
              <!-- Heading -->
              {% if block.settings.heading != blank %}
                <h1
                  class="text-4xl sm:text-5xl md:text-6xl lg:text-[74px] leading-tight lg:leading-[74px] text-white text-left"
                  style="color: {{ block.settings.text_color }};"
                >
                  {{ block.settings.heading }}
                </h1>
              {% endif %}
              <!-- Paragraph -->
              {% if block.settings.subheading != blank %}
                <div
                  class="text-base sm:text-lg leading-relaxed text-white max-w-xl mx-auto lg:mx-0 text-left"
                  style="color: {{ block.settings.text_color }};"
                >
                  {{ block.settings.subheading }}
                </div>
              {% endif %}
            </div>
            <!-- Button -->
            {% if block.settings.button_text != blank and block.settings.button_link != blank %}
              <div class="flex justify-center lg:justify-start w-full">
                <a
                  href="{{ block.settings.button_link }}"
                  class="rounded-[50px] px-8 py-3 flex gap-2 justify-center items-center bg-[#008cff] hover:bg-blue-600 transition w-full lg:w-auto"
                >
                  <p class="text-base leading-6 uppercase text-white">
                    <span class="text-white font-normal">{{ block.settings.button_text }}</span>
                  </p>
                </a>
              </div>
            {% endif %}
          </div>
        </div>
      </div>
    {% endfor %}
  </div>

  <!-- Swiper Controls -->
  {% if section.settings.show_dots %}
    <div class="swiper-pagination"></div>
  {% endif %}
  {% if section.settings.show_arrows %}
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  {% endif %}
</div>
<!-- End Hero -->

{% schema %}
{
  "name": "Hero Slider",
  "settings": [
    {
      "type": "checkbox",
      "id": "loop",
      "label": "Loop slides",
      "default": true
    },
    {
      "type": "header",
      "content": "Autoplay"
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "Enable autoplay",
      "default": false
    },
    {
      "type": "range",
      "id": "delay",
      "min": 2000,
      "max": 9000,
      "step": 1000,
      "unit": "ms",
      "label": "Autoplay delay",
      "default": 4000
    },
    {
      "type": "header",
      "content": "Controls"
    },
    {
      "type": "checkbox",
      "id": "show_dots",
      "label": "Show dots",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_arrows",
      "label": "Show arrows",
      "default": false
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "limit": 5,
      "settings": [
        {
          "type": "image_picker",
          "id": "desktop_image",
          "label": "Desktop Image"
        },
        {
          "type": "image_picker",
          "id": "mobile_image",
          "label": "Mobile Image (optional)"
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "Text color",
          "default": "#ffffff"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Unlock Your Potential"
        },
        {
          "type": "richtext",
          "id": "subheading",
          "label": "Subheading",
          "default": "<p>Experience the transformative power of peptides tailored for your wellness journey.</p>"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "Shop Now"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hero Slider",
      "blocks": [
        {
          "type": "slide"
        },
        {
          "type": "slide"
        }
      ]
    }
  ]
}
{% endschema %}

<script>
document.addEventListener('DOMContentLoaded', () => {
  const slider = document.querySelector('.swiperSliderHero');
  if (!slider) return;

  let swiperInstance;

  const initSwiper = () => {
    if (swiperInstance) {
      swiperInstance.destroy(true, true);
    }

    const options = {
      loop: {{ section.settings.loop | json }},
      slidesPerView: 1,
      spaceBetween: 20,
      speed: 800,
    };

    if ({{ section.settings.autoplay | json }}) {
      options.autoplay = {
        delay: {{ section.settings.delay | json }},
        disableOnInteraction: false,
      };
    }

    if ({{ section.settings.show_dots | json }}) {
      options.pagination = {
        el: '.swiper-pagination',
        clickable: true,
      };
    }

    if ({{ section.settings.show_arrows | json }}) {
      options.navigation = {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      };
    }

    swiperInstance = new Swiper(slider, options);
  };

  initSwiper();

  if (Shopify.designMode) {
    document.addEventListener('shopify:section:load', initSwiper);
    document.addEventListener('shopify:section:reorder', initSwiper);
  }
});
</script>

{% javascript %}
// This can be left empty or for truly static JS
{% endjavascript %}    