{%- comment -%}
  This is a new section that was not in the original theme and is created by Usman.
{%- endcomment -%}
<section class="px-0 py-12 sm:py-0">
  <div
    class="px-0 sm:px-[82px] sm:py-[120px] flex flex-col gap-0 justify-center items-center relative max-w-[1440px] relative container">
    <div class="rounded-3xl flex gap-5 items-start self-stretch relative w-full bg-white">
      <div
        class="rounded-[14px] py-[54px] px-[20px] sm:p-[54px] flex flex-col lg:flex-row items-center gap-[88px] sm:gap-[20px] md:gap-[20px] lg:gap-[88px] items-start flex-1 relative w-full bg-[#f8f8f8]">
        <div class="flex flex-col gap-6 items-start relative w-[354px]">
          <h1 class="text-4xl leading-[43px] text-[#0c0c0c]">
            <span class="text-[#0c0c0c] text-4xl font-normal">{{ section.settings.title }}</span>
          </h1>
          <div class="w-[354px] h-[512px]">
            {%- if section.settings.image -%}
              <img src="{{ section.settings.image | img_url: 'master' }}" class="max-w-[100%]" />
            {%- else -%}
              <img src="assets/img/suggest-img.webp" class="max-w-[100%]" />
            {%- endif -%}
          </div>
        </div>
        {%- form 'contact', id: 'custom-blend-form', class: 'flex flex-col gap-[34px] items-start flex-1 relative w-full' -%}
          <input type="hidden" name="contact[email]" value="custom-blend@pathpeptides.com">
          <input type="hidden" name="contact[body]" value="Custom Blend Request Submission">
          {%- if form.posted_successfully? -%}
            <h2 class="form-status form-status-success" tabindex="-1" autofocus>
              Request sent successfully! We will get back to you shortly.
            </h2>
          {%- endif -%}
          {%- if form.errors -%}
            <div class="form-status form__message" role="alert" tabindex="-1" autofocus>
              <h2 class="h3">
                Please correct the errors below to submit your request.
              </h2>
            </div>
            {{ form.errors | default_errors }}
          {%- endif -%}
          <div class="flex flex-col gap-2 items-start self-stretch relative w-full">
            <label class="text-base leading-[22px]" for="company-name">
              <span class="text-[#0c0c0c] text-base font-normal">{{ section.settings.company_name_label }} </span><span
                class="text-[#008cff] text-base font-normal">*</span>
            </label>
            <input
              id="company-name"
              class="w-full text-[16px] rounded-[50px] h-13 bg-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-300"
              placeholder="{{ section.settings.company_name_placeholder }}"
              aria-label="company-name"
              name="contact[Company Name]"
              required>
          </div>

          <div class="flex flex-col gap-2 items-start self-stretch relative w-full">
            <label class="text-base leading-[22px]" for="your-msg">
              <span class="text-[#0c0c0c] text-base font-normal">{{ section.settings.message_label }} </span>
            </label>
            <textarea
              id="your-msg"
              class="w-full text-[16px] rounded-[20px] px-6 py-3 flex flex-col gap-[-120px] items-center self-stretch relative w-full h-20 bg-white focus:outline-none focus:ring-2 focus:ring-blue-300 h-20"
              placeholder="{{ section.settings.message_placeholder }}"
              aria-label="your-msg"
              name="contact[Blend Interest]"></textarea>
          </div>

          <div class="flex flex-col gap-2 items-start self-stretch relative w-full">
            <h3 class="text-[#4d4d4d] text-base font-bold">{{ section.settings.disclaimer_title }}</h3>
            <div class="text-[#4d4d4d] text-base font-normal">
              {{ section.settings.disclaimer_text }}
            </div>


            <!-- Circle checkbox (Tailwind 4) -->
            <div class="flex items-center gap-2 mt-[5px]">
              <!-- the peer (must come BEFORE the label) -->
              <input id="agree" type="checkbox" class="peer sr-only" name="contact[Disclaimer Agreed]" value="Yes" />

              <!-- circle label: uses peer-checked:... and an arbitrary selector to target its child svg -->
              <label
                for="agree"
                class="circle inline-flex items-center justify-center w-5 h-5 rounded-full border-2 border-gray-400 cursor-pointer
 transition-all duration-200
 peer-checked:bg-black peer-checked:border-black peer-checked:text-white
 peer-checked:[&>svg]:opacity-100">
                <!-- svg uses currentColor for stroke so peer-checked:text-white makes it white -->
                <svg
                  class="w-5 h-5 opacity-0 transition-opacity duration-200"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="3"
                  aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                </svg>
              </label>

              <!-- text label -->
              <label for="agree" class="cursor-pointer text-[16px] font-medium text-[#4D4D4D] select-none">{{
                section.settings.agree_label
              }}</label>
            </div>
          </div>
          <button
            type="submit"
            class="rounded-[50px] uppercase px-6 py-3 flex gap-2 justify-center items-center self-stretch relative w-full h-13 bg-[#008cff]">
            <span class="text-white text-base font-[700]">{{ section.settings.submit_button_label }}</span>
          </button>
        {%- endform -%}
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('custom-blend-form');
    if (form) {
      form.addEventListener('submit', function(event) {
        const agreeCheckbox = document.getElementById('agree');
        if (!agreeCheckbox.checked) {
          event.preventDefault();
          alert('You must agree to the disclaimer to submit the form.');
        }
      });
    }
  });
</script>

{% schema %}
  {
    "name": "Custom Blend Request",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Title",
        "default": "Custom Blend Request"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "text",
        "id": "company_name_label",
        "label": "Company Name Label",
        "default": "Company Name"
      },
      {
        "type": "text",
        "id": "company_name_placeholder",
        "label": "Company Name Placeholder",
        "default": "Enter Your Company name"
      },
      {
        "type": "text",
        "id": "message_label",
        "label": "Message Label",
        "default": "Please let us know what blend you are interested in?"
      },
      {
        "type": "text",
        "id": "message_placeholder",
        "label": "Message Placeholder",
        "default": "Enter your message"
      },
      {
        "type": "text",
        "id": "disclaimer_title",
        "label": "Disclaimer Title",
        "default": "Disclaimer:"
      }, {
        "type": "richtext",
        "id": "disclaimer_text",
        "label": "Disclaimer Text",
        "default": "<p>Please note that not all peptide blends may be feasible due to scientific, safety, or regulatory considerations. While we make every effort to accommodate custom requests, certain formulations may not be possible to produce or may require modification. We strongly advise all customers to conduct their own independent research and consult qualified medical or scientific professionals prior to requesting or using any custom blend. By submitting a request, you acknowledge that formulation availability is subject to these limitations and that we reserve the right to decline or adjust requests as necessary in order to ensure compliance, safety, and product integrity.</p>"
      }, {
        "type": "text",
        "id": "agree_label",
        "label": "Agree Label",
        "default": "I agree"
      }, {
        "type": "text",
        "id": "submit_button_label",
        "label": "Submit Button Label",
        "default": "Submit"
      }
    ],
    "presets": [
      {
        "name": "Custom Blend Request"
      }
    ]
  }
{% endschema %}